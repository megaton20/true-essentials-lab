<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/style.css">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />


  <style>
    #mainContent{

        color: #fff;
    }
    p{
        font-size: 12px;
        color: #fff;
    }

    .sidebar {
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      width: 240px;
      background-color: #212529;
      color: white;
      padding: 1.5rem 1rem;
    }

    .sidebar a {
      color: white;
      display: block;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      text-decoration: none;
      transition: all 0.2s ease-in-out;
    }

    .sidebar a:hover {
      background-color: #343a40;
    }
    /* Desktop layout */
    @media (min-width: 768px) {
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 220px;
        height: 100vh;
        overflow-y: auto;
      }
      #mainContent {
        margin-left: 220px;
      }
    }

    /* Mobile toggle */
    .toggle-btn {
      display: none;
    }

    @media (max-width: 767px) {
      .toggle-btn {
        display: block;
        margin-bottom: 1rem;
      }

      .sidebar {
        display: none;
        position: relative;
        width: 100%;
        height: auto;
      }

      .sidebar.show {
        display: block;
      }

      #mainContent {
        margin-left: 0;
      }
    }

    .card {
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(8px);
    }

    .badge-status {
      font-size: 0.9rem;
      padding: 0.5em;
      border-radius: 0.5rem;
    }

    .hero-loader {
        margin-top: 110px;
    padding-top: 5rem;
    }

    .skeleton-title,
    .skeleton-subtitle,
    .skeleton-btn {
    background: linear-gradient(-90deg, #676767 0%, #3d3d3d 50%, #000000 100%);
    background-size: 400% 400%;
    animation: shimmer 1.4s ease-in-out infinite;
    border-radius: 8px;
    }

    @keyframes shimmer {
    0% { background-position: 100% 0; }
    100% { background-position: -100% 0; }
    }

    .verify-message {
      font-size: 1.5rem;
      font-weight: bold;
      color: #d9534f;
      text-align: center;
      margin-top: 3rem;
    }
  </style>

</head>
<body>
    
 <%-include('./partials/dashnav')%>

<!-- Main Content -->
<div id="mainContent" class="p-4">


  <!-- Loader -->
            <div id="loader" class="hero-loader text-center">
            <div class="skeleton skeleton-title mb-3 mx-auto" style="width: 60%; height: 32px;"></div>
            <div class="skeleton skeleton-subtitle mb-4 mx-auto" style="width: 45%; height: 24px;"></div>
            <div class="skeleton skeleton-btn mx-auto" style="width: 160px; height: 42px; border-radius: 15px;"></div>
            </div>



  <!-- Email not verified message -->
  <% if (1==11) { %>
    <div id="verifyBlock" class="verify-message d-none">
      Please verify your email to continue.
    </div>
  <% } else { %>
        <div class="hero d-none" id="realHero">
          
            <br>
            <br>
            <br>

            <h1>Class Started About 20 minutes Ago...</h1>
            <h2> click the button to join now... </h2>

            <br>
                         
            <div class="btn-grp">
                <a class="btn-basic primary-btn" href="/dashboard/joined">Join Active Class</a>
            </div>
        </div>
  <% } %>
</div>

<script>
  function toggleSidebar() {
    document.getElementById("sidebar").classList.toggle("show");
  }

window.onload = function () {
  setTimeout(() => {
    document.getElementById("loader").classList.add("d-none");
    document.getElementById("realHero").classList.remove("d-none");
  }, 1000);
};


  // Simulate notification update every 5 seconds
let notificationCount = 0;
function updateNotifications() {
  notificationCount = (notificationCount + 1) % 6; // cycle 0 to 5
  const badge = document.getElementById('notificationBadge');
  if (notificationCount > 0) {
    badge.textContent = notificationCount;
    badge.style.display = 'inline-block';
  } else {
    badge.style.display = 'none';
  }
}

// Call every 5 seconds to simulate new notifications
setInterval(updateNotifications, 50000);
updateNotifications();


</script>

</body>
</html>
