<div class="bg-white border border-gray-200 rounded-lg p-4">
  <div class="space-y-2">
    <!-- Active link indicator - dynamically set based on current page -->
    <% const currentPath = typeof page !== 'undefined' ? page : 'overview'; %>
    
    <!-- Dashboard -->
    <a href="/user" 
       class="group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all <%= 
         currentPath === 'overview' ? 'bg-blue-50 text-blue-600 border border-blue-100' : 'text-gray-700 hover:bg-gray-50'
       %>">
      <div class="w-6 h-6 rounded flex items-center justify-center <%= 
        currentPath === 'overview' ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-500 group-hover:bg-gray-200'
      %>">
        <i class="fas fa-tachometer-alt text-xs"></i>
      </div>
      <span class="text-sm font-medium">Overview</span>
      <% if (currentPath === 'overview') { %>
        <div class="ml-auto w-1.5 h-1.5 rounded-full bg-blue-500"></div>
      <% } %>
    </a>
    
    <!-- Profile -->
    <a href="/user/profile" 
       class="group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all <%= 
         currentPath === 'profile' ? 'bg-blue-50 text-blue-600 border border-blue-100' : 'text-gray-700 hover:bg-gray-50'
       %>">
      <div class="w-6 h-6 rounded flex items-center justify-center <%= 
        currentPath === 'profile' ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-500 group-hover:bg-gray-200'
      %>">
        <i class="fas fa-user text-xs"></i>
      </div>
      <span class="text-sm font-medium">Profile</span>
      <% if (currentPath === 'profile') { %>
        <div class="ml-auto w-1.5 h-1.5 rounded-full bg-blue-500"></div>
      <% } %>
    </a>
    
    <!-- My Programs -->
    <a href="/user/my-courses" 
       class="group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all <%= 
         currentPath === 'courses' ? 'bg-blue-50 text-blue-600 border border-blue-100' : 'text-gray-700 hover:bg-gray-50'
       %>">
      <div class="w-6 h-6 rounded flex items-center justify-center <%= 
        currentPath === 'courses' ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-500 group-hover:bg-gray-200'
      %>">
        <i class="fas fa-graduation-cap text-xs"></i>
      </div>
      <span class="text-sm font-medium">My Programs</span>
      <% if (currentPath === 'courses') { %>
        <div class="ml-auto w-1.5 h-1.5 rounded-full bg-blue-500"></div>
      <% } %>
    </a>
    
    <!-- Referral/Earnings -->
    <div class="pt-1">
      <% if (!user.is_affiliate) { %>
        <a href="/affiliate/signup" 
           class="group flex items-center gap-3 px-3 py-2.5 text-gray-700 hover:bg-gray-50 rounded-lg transition-all">
          <div class="w-6 h-6 rounded flex items-center justify-center bg-gray-100 text-gray-500 group-hover:bg-gray-200">
            <i class="fas fa-share-alt text-xs"></i>
          </div>
          <span class="text-sm font-medium">Refer To Earn</span>
          <span class="ml-auto text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded">New</span>
        </a>
      <% } else { %>
        <a href="/affiliate/dashboard" 
           class="group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all <%= 
             currentPath === 'earnings' ? 'bg-green-50 text-green-600 border border-green-100' : 'text-gray-700 hover:bg-gray-50'
           %>">
          <div class="w-6 h-6 rounded flex items-center justify-center <%= 
            currentPath === 'earnings' ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-500 group-hover:bg-gray-200'
          %>">
            <i class="fas fa-wallet text-xs"></i>
          </div>
          <span class="text-sm font-medium">Earnings</span>
          <% if (currentPath === 'earnings') { %>
            <div class="ml-auto w-1.5 h-1.5 rounded-full bg-green-500"></div>
          <% } %>
        </a>
      <% } %>
    </div>
    
    <!-- Teacher Section -->
    <% if (user.role == "teacher") { %>
    <div class="pt-1">
      <a href="/teacher" 
         class="group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all <%= 
           currentPath === 'teacher' ? 'bg-purple-50 text-purple-600 border border-purple-100' : 'text-gray-700 hover:bg-gray-50'
         %>">
        <div class="w-6 h-6 rounded flex items-center justify-center <%= 
          currentPath === 'teacher' ? 'bg-purple-100 text-purple-600' : 'bg-gray-100 text-gray-500 group-hover:bg-gray-200'
        %>">
          <i class="fas fa-chalkboard-teacher text-xs"></i>
        </div>
        <span class="text-sm font-medium">Teacher</span>
        <% if (currentPath === 'teacher') { %>
          <div class="ml-auto w-1.5 h-1.5 rounded-full bg-purple-500"></div>
        <% } %>
      </a>
    </div>
    <% } %>
    
    <!-- Logout -->
    <div class="pt-4 border-t border-gray-100">
      <a href="/auth/logout" 
         class="group flex items-center gap-3 px-3 py-2.5 text-red-600 hover:bg-red-50 rounded-lg transition-all">
        <div class="w-6 h-6 rounded flex items-center justify-center bg-red-100 text-red-500 group-hover:bg-red-200">
          <i class="fas fa-sign-out-alt text-xs"></i>
        </div>
        <span class="text-sm font-medium">Logout</span>
      </a>
    </div>
  </div>
</div>